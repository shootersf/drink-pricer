(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a(17)},15:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(8),r=a.n(s),l=(a(15),a(1)),c=a(2),u=a(3),o=a(5),d=a(4),m=a(6);var v=function(e){var t=e.option,a=e.optionSelected;return i.a.createElement("div",{className:"col s12"},i.a.createElement("button",{className:"btn",onClick:function(){a(t)}},t))};var p=function(e){var t=e.options,a=e.optionSelected,n=t.map(function(e){return i.a.createElement(v,{key:e,option:e,optionSelected:a})});return i.a.createElement("div",{className:"container"},n)};var f=function(e){var t=e.getItems().map(function(e){return e.category});return i.a.createElement("div",{className:"green-text text-darken-2"},i.a.createElement("h3",null,"Please Select the Type of Product:"),i.a.createElement(p,{options:t,optionSelected:function(t){var a={category:t},n=e.getItem(t);n.multiPack&&!n.singlePack?a.isSingle=!1:!n.multiPack&&n.singlePack&&(a.isSingle=!0,a.qty=1),e.updateFinal(a)}}))};var h=function(e){var t=["Individually","By Case"],a=e.currentFinal.category.charAt(0).toUpperCase()+e.currentFinal.category.slice(1).toLowerCase();return i.a.createElement("div",{className:"green-text text-darken-2"},i.a.createElement("h3",null,"Is the ",a," priced individually or by case? "),i.a.createElement(p,{options:t,optionSelected:function(a){var n={};a===t[0]?(n.isSingle=!0,n.qty=1):n.isSingle=!1,e.updateFinal(n)}}))},g=a(9);var b=function(e){var t=e.int,a=void 0===t||t,n=e.min,s=void 0===n?"1":n,r=e.currency,l=void 0!==r&&r,c=e.percentage,u=void 0!==c&&c,o=e.placeholder,d=void 0===o?"1":o,m=e.label,v=e.inputDisabled,p=void 0!==v&&v,f=a?"1":"0.01",h=l?"fas fa-euro-sign prefix":u?"fas fa-percentage prefix":"hide";return i.a.createElement("div",{className:"input-field"},i.a.createElement("i",{className:h}),i.a.createElement("label",{className:"active"},m),i.a.createElement("input",{type:"number",min:s,step:f,value:e.value,placeholder:d,onChange:function(t){var n=t.target.value,i=function(e){var t=a?/^-?\d+$/:/^-?\d*\.?\d{1,2}$/;return!(isNaN(e)||Number(e)<Number(s)||!t.test(e))}(n);e.updateValue({value:n,valid:i})},onFocus:function(t){e.onFocus&&e.onFocus(e.id)},disabled:p}))},y=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).quantitySubmitted=function(e){e.preventDefault(),a.props.submit(a.state.value)},a.updateValue=function(e){var t=e.value,n=e.valid;a.setState({value:t,valid:n})},a.state={},a.state.value=a.props.value,a.state.valid=!!a.props.value,a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.submitValue,e.buttonText),a=void 0===t?"SUBMIT":t,n=(e.value,Object(g.a)(e,["submitValue","buttonText","value"]));return i.a.createElement("form",{onSubmit:this.quantitySubmitted},i.a.createElement(b,Object.assign({},n,{value:this.state.value,updateValue:this.updateValue})),i.a.createElement("button",{className:"btn",disabled:!this.state.valid},a))}}]),t}(n.Component);var k=function(e){return i.a.createElement("div",{className:"green-text text-darken-2"},i.a.createElement("h3",null,"Please enter the No. of bottles per case:"),i.a.createElement(y,{value:"",submit:function(t){var a={qty:t};e.updateFinal(a)},label:"No. of bottles:"}))};var S=function(e){var t=e.getItem(e.currentFinal.category),a=t.sizesText;return i.a.createElement("div",{className:"green-text text-darken-2"},i.a.createElement("h3",null,"Please Select size of Product:"),i.a.createElement(p,{options:a,optionSelected:function(a){var n=t.sizesText.indexOf(a),i={size:t.sizes[n],sizeText:a};e.updateFinal(i)}}))};var E=function(e){var t=e.getItem(e.currentFinal.category),a=t.servingsText;return i.a.createElement("div",{className:"green-text text-darken-2"},i.a.createElement("h3",null,"Please Select serving size of Product:"),i.a.createElement(p,{options:a,optionSelected:function(a){var n=t.servingsText.indexOf(a),i={servingSize:t.servings[n],servingSizeText:a};e.updateFinal(i)}}))};var x=function(e){var t=e.currentFinal.isSingle?"Please enter the cost price:":"Please enter the cost price per case:";return i.a.createElement("div",{className:"green-text text-darken-2"},i.a.createElement("h3",null,t),i.a.createElement(y,{value:"",int:!1,currency:!0,min:"0.01",submit:function(t){var a={cost:t};e.updateFinal(a)},label:"Price \u20ac"}))},P=function(e){function t(e){var a;Object(c.a)(this,t),a=Object(o.a)(this,Object(d.a)(t).call(this,e));var n=e.final,i=(n.cost/n.qty/(n.size/n.servingSize)).toFixed(2);return a.state={cost:i,salePrice:i,markup:0,pouringCost:null,profit:0,focusedInput:null},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"inputFocusHandler",value:function(e){this.setState({focusedInput:e})}},{key:"updateSalePrice",value:function(e){var t=e.value,a=e.valid,n=Number(t);if(this.setState({salePrice:n}),a&&"salePrice"===this.state.focusedInput){var i=(n-this.state.cost).toFixed(2),s=(100*i/this.state.cost).toFixed(2);this.setState({profit:i,markup:s})}}},{key:"updateMarkup",value:function(e){var t=e.value,a=e.valid,n=t;if(this.setState({markup:n}),a&&"markup"===this.state.focusedInput){var i=Number(n*this.state.cost/100).toFixed(2),s=(Number(i)+Number(this.state.cost)).toFixed(2);this.setState({profit:i,salePrice:s})}}},{key:"updateProfit",value:function(e){var t=e.value,a=e.valid,n=t;if(this.setState({profit:n}),a&&"profit"===this.state.focusedInput){var i=(Number(n)+Number(this.state.cost)).toFixed(2),s=(100*n/this.state.cost).toFixed(2);this.setState({salePrice:i,markup:s})}}},{key:"render",value:function(){var e="Final costing per ".concat(this.props.final.servingSizeText," :"),t={int:!1,placeholder:"0.01",onFocus:this.inputFocusHandler.bind(this)},a=Object(l.a)({},t,{currency:!0,value:this.state.cost,label:"Cost Price:",inputDisabled:!0}),n=Object(l.a)({},t,{min:"0.01",currency:!0,value:this.state.salePrice,label:"Sale Price:",updateValue:this.updateSalePrice.bind(this)}),s=Object(l.a)({},t,{min:"-99.90",percentage:!0,value:this.state.markup,label:"Markup:",updateValue:this.updateMarkup.bind(this)}),r=Object(l.a)({},t,{min:(.01-this.state.cost).toString(),currency:!0,value:this.state.profit,label:"Profit:",updateValue:this.updateProfit.bind(this)});return i.a.createElement("div",{className:"final green-text text-darken-2"},i.a.createElement("h3",null,e),i.a.createElement("div",{className:"row"},i.a.createElement(b,Object.assign({},a,{id:"cost"})),i.a.createElement(b,Object.assign({},n,{id:"salePrice"})),i.a.createElement(b,Object.assign({},s,{id:"markup"})),i.a.createElement(b,Object.assign({},r,{id:"profit"}))))}}]),t}(n.Component),N=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).state={stages:[{component:f,isNull:"category"},{component:h,isNull:"isSingle"},{component:k,isNull:"qty"},{component:S,isNull:"size"},{component:E,isNull:"servingSize"},{component:x,isNull:"cost"}],final:{category:null,isSingle:null,qty:null,size:null,servingSize:null,cost:null}},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"getItems",value:function(){return this.props.items}},{key:"getItem",value:function(e){return this.props.items.find(function(t){return t.category===e})}},{key:"updateFinal",value:function(e){var t=this;this.setState({final:Object(l.a)({},this.state.final,e)},function(){console.log(t.state.final)})}},{key:"getCompenentForStage",value:function(){for(var e=null,t=0;t<this.state.stages.length;t++){var a=this.state.stages[t].isNull;if(null===this.state.final[a]){e=this.state.stages[t].component;break}}return e?i.a.createElement(e,{currentFinal:this.state.final,updateFinal:this.updateFinal.bind(this),getItems:this.getItems.bind(this),getItem:this.getItem.bind(this)}):i.a.createElement(P,{final:this.state.final})}},{key:"render",value:function(){var e=this.getCompenentForStage();return i.a.createElement("div",{className:"App center-align container"},e)}}]),t}(n.Component);N.defaultProps={items:[{category:"KEG",multiPack:!1,singlePack:!0,sizesText:["50L","30L"],sizes:[5e4,3e4],servingsText:["Pint","Half-Pint"],servings:[568,284]},{category:"SPIRIT",multiPack:!0,singlePack:!0,sizesText:["700ml","1L","1.5L"],sizes:[700,1e3,1500],servingsText:["35.5ml","50ml","71ml"],servings:[35.5,50,71]}]};var F=N;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[10,2,1]]]);
//# sourceMappingURL=main.597d5c4f.chunk.js.map